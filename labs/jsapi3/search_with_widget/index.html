<!DOCTYPE html>
<html>
<head>
  <title>JS API Starter App</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <link rel="stylesheet" type="text/css" href="//js.arcgis.com/3.17/esri/css/esri.css">
  <style>
    html,body,#map {
      padding:0;
      margin:0;
      height:100%;
    }
    #searchDiv {
      display: block;
      position: absolute;
      z-index: 3;
      top: 20px;
      left: 74px;
    }
  </style>

  <script src="//js.arcgis.com/3.17/"></script>

  <script>
    require(["esri/map",
      // Add Search, FeatureLayer and InfoTemplate modules
      "esri/dijit/Search",
      "esri/layers/FeatureLayer",
      "esri/InfoTemplate",
      "dojo/domReady!"],
      function(Map, Search, FeatureLayer, InfoTemplate) {
        map = new Map("map", {
          center: [-77.029, 38.89],
          zoom: 12,
          basemap: "dark-gray"
        });
        var search = new Search({
          map: map
        }, "searchDiv");
        var sources = search.get("sources");
        sources.push({
          featureLayer: new FeatureLayer("http://services.arcgis.com/lA2FZKuu26Fips7U/ArcGIS/rest/services/MetroStops/FeatureServer/0"),
          name: "Metro Stop Search",
          searchFields: ["NAME"],
          displayField: "NAME",
          exactMatch: false,
          outFields: ["NAME","LINE","ADDRESS"],
          placeholder: "Dupont Circle",
          enableSuggestions: true,
          // Create an InfoTemplate for the popup
          infoTemplate: new InfoTemplate("Stop Name","Name: ${NAME}</br>Line: ${LINE}</br>Address: ${ADDRESS}")
        });
        search.set("sources",sources);
        search.startup();
      }
    );
  </script>
</head>

<body>
  <div id="map"></div>

  <!-- ADD new div for the search widget -->
  <div id="searchDiv"></div>
</body>
</html>